{
  "combiner" : "OR",
  "notification_channels" : [
    "Mar"
  ],
  "policies": {
    "cpu_utilization_w" : {
      "display_name"         : "Warning GCE VM instance - CPU Utilization",
      "condition_name"       : "VM Instance - CPU Utilization ",
      "filter"               : "metric.type=\"compute.googleapis.com/instance/cpu/utilization\" resource.type=\"gce_instance\" ",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 80,
      "alignment_period"     : "60s",
      "per_series_aligner"   : "ALIGN_SUM",
      "cross_series_reducer" : "",    
      "count"                : 1,
      "content"              : "{}",
      "enabled"              : false
    },
    "cpu_utilization_c" : {
      "display_name"         : "Critical GCE VM instance - CPU Utilization",
      "condition_name"       : "VM Instance - CPU Utilization ",
      "filter"               : "metric.type=\"compute.googleapis.com/instance/cpu/utilization\" resource.type=\"gce_instance\" )",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 90,
      "alignment_period"     : "60s",
      "per_series_aligner"   : "ALIGN_SUM",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\", \"@version\" : \"alertapi-0.1\", \"@type\":\"ALERT\", \"object\" : \"API_SERVER\", \"severity\" : \"MAJOR\", \"text\" : \"CPU usage 90% \" }",
      "enabled"              : false
    },
    "io_time_w" : {
      "display_name"         : "Warning GCE VM instance - IO Time",
      "condition_name"       : "Warning VM instance - IO Time",
      "filter"               : "metric.type=\"compute.googleapis.com/guest/disk/weighted_io_time\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\")",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 0.3,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_RATE",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"IO Time 30ms \"}",
      "enabled"              : false
    },
    "io_time_c" : {
      "display_name"         : "Critical GCE VM instance - IO Time",
      "condition_name"       : "Critical GCE VM instance - IO Time ",
      "filter"               : "metric.type=\"compute.googleapis.com/guest/disk/weighted_io_time\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\")",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 0.4,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_RATE",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"IO Time 40ms\"}",
      "enabled"              : false
    },
    "swap_in_w" : {
      "display_name"         : "Warning GCE VM instance - Swap In",
      "condition_name"       : "Warning VM instance - Swap In",
      "filter"               : "metric.type=\"compute.googleapis.com/instance/memory/balloon/swap_in_bytes_count\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\")",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 500,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_RATE",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Swap In >500kbs\"}",
      "enabled"              : false
    },
    "swap_in_c" : {
      "display_name"         : "Critical GCE VM instance - Swap In",
      "condition_name"       : "Critical VM instance - Swap In",
      "filter"               : "metric.type=\"compute.googleapis.com/instance/memory/balloon/swap_in_bytes_count\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\")",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 1000,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_RATE",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Swap In >1000kbs\"}",
      "enabled"              : false
    },
    "swap_out_w" : {
      "display_name"         : "Warning GCE VM instance - Swap On",
      "condition_name"       : "Warning GCE VM instance - Swap On",
      "filter"               : "metric.type=\"compute.googleapis.com/instance/memory/balloon/swap_out_bytes_count\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\")",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 500,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_RATE",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Swap On >500kbs\"}",
      "enabled"              : false
    },
    "swap_out_c" : {
      "display_name"         : "Critical GCE VM instance - Swap On",
      "condition_name"       : "Critical GCE VM instance - Swap On",
      "filter"               : "metric.type=\"compute.googleapis.com/instance/memory/balloon/swap_out_bytes_count\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\")",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 1000,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_RATE",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Swap On >1000kbs\"}",
      "enabled"              : false
    },
    "load_average_w" : {
      "display_name"         : "Warning GCE VM instance - CPU Load Average Use",
      "condition_name"       : "Warning VM instance - CPU Load Average Use",
      "filter"               : "metric.type=\"agent.googleapis.com/cpu/load_15m\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\")",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 3,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_MEAN",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"CPU Load Average Use >3\"}",
      "enabled"              : false
    },
    "load_average_c" : {
      "display_name"         : "Critical GCE VM instance - CPU Load Average Use",
      "condition_name"       : "Critical VM instance - CPU Load Average Use",
      "filter"               : "metric.type=\"agent.googleapis.com/cpu/load_15m\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\")",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 1000,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_MEAN",
      "cross_series_reducer" : "",
      "count"                : 5,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"CPU Load Average Use >5\"}",
      "enabled"              : false
    },
    "disk_utilization_w" : {
      "display_name"         : "Warning GCE VM instance - Disk utilization",
      "condition_name"       : "Warning VM instance - Disk utilization",
      "filter"               : "metric.type=\"agent.googleapis.com/disk/percent_used\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\") metric.label.\"state\"=\"used\" metric.label.\"device\"!=\"devtmpfs\" metric.label.\"device\"!=\"tmpfs\" metric.label.\"device\"!=monitoring.regex.full_match(\".*home.*\")",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 80,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_MIN",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Disk utilization >80%\"}",
      "enabled"              : false
    },
    "disk_utilization_c" : {
      "display_name"         : "Critical GCE VM instance - Disk utilization",
      "condition_name"       : "Critical VM instance - Disk utilization",
      "filter"               : "metric.type=\"agent.googleapis.com/disk/percent_used\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\") metric.label.\"state\"=\"used\" metric.label.\"device\"!=\"devtmpfs\" metric.label.\"device\"!=\"tmpfs\" metric.label.\"device\"!=monitoring.regex.full_match(\".*home.*\")",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 90,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_MIN",
      "cross_series_reducer" : "",
      "count"                : 5,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Disk utilization >90%\"}",
      "enabled"              : false
    },
    "memory_utilization_w" : {
      "display_name"         : "Warning GCE VM instance - Memory Utilization",
      "condition_name"       : "Warning VM instance - Memory Utilization",
      "filter"               : "metric.type=\"agent.googleapis.com/memory/percent_used\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\") metric.label.\"state\"=\"used\"",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 80,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_MEAN",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Memory Utilization >80%\"}",
      "enabled"              : false
    },
    "memory_utilization_c" : {
      "display_name"         : "Critical GCE VM instance - Memory Utilization",
      "condition_name"       : "Critical VM instance - Memory Utilization",
      "filter"               : "metric.type=\"agent.googleapis.com/memory/percent_used\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\") metric.label.\"state\"=\"used\"",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 90,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_MEAN",
      "cross_series_reducer" : "",
      "count"                : 5,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Memory Utilization >90%\"}",
      "enabled"              : false
    },
    "swap_usage_w" : {
      "display_name"         : "Warning GCE VM instance - Swap Usage",
      "condition_name"       : "Warning VM instance - Swap Usage",
      "filter"               : "metric.type=\"agent.googleapis.com/swap/bytes_used\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\") metric.label.\"state\"=\"used\"",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 6000000000,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_MEAN",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Swap Usage >5\"}",
      "enabled"              : false
    },
    "swap_usage_c" : {
      "display_name"         : "Critical GCE VM instance - Swap Usage",
      "condition_name"       : "Critical VM instance - Swap Usage",
      "filter"               : "metric.type=\"agent.googleapis.com/swap/bytes_used\" resource.type=\"gce_instance\" metadata.system_labels.\"name\"=monitoring.regex.full_match(\"gce--us-east4-etl.*\") metric.label.\"state\"=\"used\"",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 7000000000,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_MEAN",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Swap Usage >2\"}",
      "enabled"              : false
    },
    "query_execution_times_w" : {
      "display_name"         : "Warning Big Query - Global - Query execution times",
      "condition_name"       : "Warning Big Query - Global - Query execution times",
      "filter"               : "metric.type=\"bigquery.googleapis.com/query/execution_times\" resource.type=\"bigquery_project\" resource.label.\"location\"=\"us-east4\"",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 100,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_SUM",
      "cross_series_reducer" : "REDUCE_MEAN",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Query execution times >100\"}",
      "enabled"              : false
    },
    "query_execution_times_c" : {
      "display_name"         : "Critical Big Query - Global - Query execution times",
      "condition_name"       : "Critical Big Query - Global - Query execution times",
      "filter"               : "metric.type=\"bigquery.googleapis.com/query/execution_times\" resource.type=\"bigquery_project\" resource.label.\"location\"=\"us-east4\"",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 150,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_SUM",
      "cross_series_reducer" : "REDUCE_MEAN",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Query execution times >150\"}",
      "enabled"              : false
    },
    "cloudsql_server_up" : {
      "display_name"         : "Critical CloudSQL - Database - Server up",
      "condition_name"       : "Critical CloudSQL - Database - Server up",
      "filter"               : "metric.type=\"cloudsql.googleapis.com/database/up\" resource.type=\"cloudsql_database\"",
      "duration"             : "0s",
      "comparison"           : "COMPARISON_GT",
      "threshold_value"      : 100,
      "alignment_period"     : "300s",
      "per_series_aligner"   : "ALIGN_NEXT_OLDER",
      "cross_series_reducer" : "",
      "count"                : 1,
      "content"              : "{\"@key\":\"a75f68e9-3ae8-4c8c-b2d4-65a54e332787\",\"@version\":\"alertapi-0.1\",\"@type\":\"ALERT\",\"object\":\"API_SERVER\",\"severity\":\"MAJOR\",\"text\":\"Server is down\"}",
      "enabled"              : false
    }    
   
  },
  "logging_metrics_ids" : {
    "cpu_utilization_w"       : "warning_GCE_VM_instance_CPUUtilization",
    "cpu_utilization_c"       : "critical_GCE_VM_instance_CPUUtilization",
    "io_time_w"               : "warning_GCE_VM_instance_IOTime",
    "io_time_c"               : "critical_GCE_VM_instance_IOTime",
    "swap_in_w"               : "warning_GCE_VM_instance_SwapIn",
    "swap_in_c"               : "critical_GCE_VM_instance_SwapIn",
    "swap_out_w"              : "wrning_GCE_VM_instance_SwapOut",
    "swap_out_c"              : "critical_GCE_VM_instance_SwapOut",
    "load_average_w"          : "warning_GCE_VM_instance_CPULoadAverageUse",
    "load_average_c"          : "critical_GCE_VM_instance_CPULoadAverageUse",
    "disk_utilization_w"      : "warning_GCE_VM_instance_Diskutilization",
    "disk_utilization_c"      : "critical_GCE_VM_instance_Diskutilization",
    "memory_utilization_w"    : "warning_GCE_VM_instance_MemoryUtilization",
    "memory_utilization_c"    : "critical_GCE_VM_instance_MemoryUtilization",
    "swap_usage_w"            : "warning_GCE_VM_instance_SwapUsage",
    "swap_usage_c"            : "critical_GCE_VM_instance_SwapUsage",
    "query_execution_times_w" : "warning_BigQuery_Global_Queryexecutiontimes",
    "query_execution_times_c" : "critical_BigQuery_Global_Queryexecutiontimes",
    "cloudsql_server_up"      : "critical_CloudSQL_Database_Serverup"

  }
}